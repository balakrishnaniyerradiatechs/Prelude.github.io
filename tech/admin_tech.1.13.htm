<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>Guide/Fixfile</title>
    <link rel="StyleSheet" href="css/admin_tech.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
  </head>
  <body class="" style="" onload="WWHUpdate();" onunload="WWHUnload();" onkeydown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onkeypress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onkeyup="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <blockquote>
      <div class="Head1"><a name="1125372">Guide/Fixfile</a></div>
      <div class="Body"><a name="1125373">The Guide and Fixfile utilities are available on the Unidata platform only and are used to detect and </a>correct file corruption. These commands are the heart of the SYSMAN account and utilities. SYSMAN provides an intuitive user front-end to accessing the Guide and Fixfile utilities. Documentation for SYSMAN may be found elsewhere. This document focuses solely on using these commands from the Unix shell to correct single instances of file corruption. If widespread data corruption has occurred, SYSMAN would be a better choice to analyze the entire system. However, if any corruption is detected by SYSMAN, Guide must be used to correct the corruption. Also note that no users may access the file while the processes are being run.</div>
      <div class="Subhead"><a name="1125374">Example</a></div>
      <div class="Body"><a name="1125375">Evidence of file corruption is easy to detect. During normal system use, when an attempt is made to </a>write to a corrupted block in a file, an error message similar to the following will occur:</div>
      <pre class="Report"><a name="1125376">1:long record check error in write_record for file ‘ORDER.LINE’, key ‘’, number=331</a></pre>
      <pre class="Report"><a name="1125377">1:long record check error in U_add_record for file ‘ORDER.LINE’, key ‘0125233243’</a></pre>
      <pre class="Report"><a name="1125378">1:long record check error in add_to_group for file ‘ORDER.LINE’, key ‘0125233243’</a></pre>
      <pre class="Report"><a name="1125379">1:long record check error in U_append_strtuple for file ‘ORDER.LINE’, key ‘0125233243’</a></pre>
      <pre class="Report"><a name="1125380">Fatal error:  WRITE error</a></pre>
      <div class="Subhead"><a name="1125381">Correction</a></div>
      <div class="NumberedIntro"><a name="1125382">To correct the file, the you must have permissions in Unix to read and write to the file. </a></div>
      <div class="Numbered_outer" style="margin-left: 0pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Numbered_inner" style="width: 18pt; white-space: nowrap;">1	</div>
            </td>
            <td width="100%">
              <div class="Numbered_inner"><a name="1125383">Shell to Unix either by !ksh from Unidata or logging in as root.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Numbered_outer" style="margin-left: 0pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Numbered_inner" style="width: 18pt; white-space: nowrap;">2	</div>
            </td>
            <td width="100%">
              <div class="Numbered_inner"><a name="1125384">Change to the directory where the file exists (i.e. ORDER.LINE is in /ud/account-data)</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Numbered_outer" style="margin-left: 0pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Numbered_inner" style="width: 18pt; white-space: nowrap;">3	</div>
            </td>
            <td width="100%">
              <div class="Numbered_inner"><a name="1125385">Remove any previous guide files by typing #rm GUIDE_*</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Numbered_outer" style="margin-left: 0pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Numbered_inner" style="width: 18pt; white-space: nowrap;">4	</div>
            </td>
            <td width="100%">
              <div class="Numbered_inner"><a name="1125386">Run:  #guide FILE_NAME (i.e #guide ORDER.LINE). When the program finishes, three or four files </a>are created in the directory you are currently in. The three files always created are:</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Bullet2_outer" style="margin-left: 18pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Bullet2_inner" style="width: 9pt; white-space: nowrap;">-	</div>
            </td>
            <td width="100%">
              <div class="Bullet2_inner"><a name="1125387">GUIDE_ADVICE.LIS  - Guide information about file resizing.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Bullet2_outer" style="margin-left: 18pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Bullet2_inner" style="width: 9pt; white-space: nowrap;">-	</div>
            </td>
            <td width="100%">
              <div class="Bullet2_inner"><a name="1125388">GUIDE_ERRORS.LIS - Guide statistical information about errors found.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Bullet2_outer" style="margin-left: 18pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Bullet2_inner" style="width: 9pt; white-space: nowrap;">-	</div>
            </td>
            <td width="100%">
              <div class="Bullet2_inner"><a name="1125389">GUIDE_STATS.LIS - Guide statistical information about the file itself.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Bullet2_outer" style="margin-left: 18pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Bullet2_inner" style="width: 9pt; white-space: nowrap;">-	</div>
            </td>
            <td width="100%">
              <div class="Bullet2_inner"><a name="1125390">GUIDE_FIXUP.DAT - File used by Fixfile to correct the data corruption, if corruption is found in the </a>file,</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Numbered_outer" style="margin-left: 0pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Numbered_inner" style="width: 18pt; white-space: nowrap;">5	</div>
            </td>
            <td width="100%">
              <div class="Numbered_inner"><a name="1125391">If no GUIDE_FIXUP.DAT is created, Guide either found no corruption or is not able to fix the </a>problem.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Numbered_outer" style="margin-left: 0pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Numbered_inner" style="width: 18pt; white-space: nowrap;">6	</div>
            </td>
            <td width="100%">
              <div class="Numbered_inner"><a name="1125392">If a GUIDE_FIXUP.DAT was created, run:  #fixfile </a>–dtempfile –f.  This will dump any records that are dropped to the file tempfile to be reviewed, as well as correcting the file corruption.  The file should now be fixed.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Numbered_outer" style="margin-left: 0pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Numbered_inner" style="width: 18pt; white-space: nowrap;">7	</div>
            </td>
            <td width="100%">
              <div class="Numbered_inner"><a name="1125393">Clean-up the directory by removing the guide advice files:  #rm GUIDE*</a></div>
            </td>
          </tr>
        </table>
      </div>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <hr align="left" />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <a class="WebWorks_Breadcrumb_Link" href="admin_tech.1.1.htm#1125372">UniData</a>:Guide/Fixfile</div>
    <br />
    <table align="right" summary="">
      <tr>
        <td class="WebWorks_Company_Name_Bottom">
          <a href="wdncustomer.activant.com" target="_blank">Activant Solutions Inc.</a>
        </td>
      </tr>
      <tr>
        <td class="WebWorks_Company_Phone_Bottom">866-878-0574</td>
      </tr>
      <tr>
        <td class="WebWorks_Company_Fax_Bottom">972-403-3150</td>
      </tr>
      <tr>
        <td class="WebWorks_Company_Email_Bottom">
          <a href="mailto:PreludeEducation@activant.com">PreludeEducation@activant.com</a>
        </td>
      </tr>
    </table>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>